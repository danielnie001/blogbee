{{template "header"}}
    <title>首页 - 我的beego博客</title>
    </head>
    <body>
        <nav class="navbar navbar-default navbar-fixed-top">
            <div class="container">
                {{template "navbar" .}}
            </div>
        </nav>
        <div class="container" style="margin-top: 50px">
            <div class="col-md-9">
                {{range .Topics}}
                <div class="page-header">
                    <h1><a href="/topic/view/{{.Id}}">{{.Title}}</a></h1>
                    <h6 class="text-muted">文章发表于 {{.Created}}，共有 {{.Views}} 次浏览，{{.ReplyCount}}个评论</h6>
                    <p class="content">
                        {{.Content}}
                    </p>
                </div>
                {{end}}
            </div>
            <div class="col-md-3">
                <h3>文章分类</h3>
                <ul>
                    {{range .Categories}}
                    <li><a href="/?cate={{.Title}}">{{.Title}}</a></li>
                    {{end}}
                </ul>
            </div>
        </div>
        <script type="text/javascript" src="https://cdn.staticfile.org/jquery/3.6.0/jquery.min.js"></script>
        <script type="text/javascript" src="/static/js/bootstrap.min.js"></script>
        <script type="text/javascript">
            function processStr(text){
                var l = text.length;
                if (l <= 10) {
                    return text;
                }
                return text.substring(0, 50) + "...";
            }
           $(function (){
               var content = $(".content")
               for (let i = 0; i < content.length; i++) {
                   var $content = $(content[i])
                   var text = processStr($content.text().trim())
                   $content.text(text)
               }
           })
        </script>
    </body>
</html>