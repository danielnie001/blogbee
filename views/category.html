{{template "header"}}
    <title>首页 - 我的beego博客</title>
    </head>
    <body>
        <nav class="navbar navbar-default navbar-fixed-top">
            <div class="container">
                {{template "navbar" .}}
            </div>
        </nav>
        <div class="container" style="margin-top: 50px">
            <h1>分类列表</h1>
            <form method="get" action="/category" class="form-inline">
                <input type="hidden" name="op" value="add">
                <div class="form-group">
                    <input type="text" id="uname" name="name" class="form-control" placeholder="enter category">
                </div>

                <button type="submit" class="btn btn-default" onclick="return checkInput()">添加分类</button>
            </form>
            <table class="table table-striped">
                <thead>
                <tr>
                    <th>#</th>
                    <th>名称</th>
                    <th>文章数</th>
                    <th>操作</th>
                </tr>
                </thead>
                <tbody>
                {{range .Categories}}
                <tr>
                    <td>{{.Id}}</td>
                    <td>{{.Title}}</td>
                    <td>{{.TopicCount}}</td>
                    <td>
                        <a href="/category?op=del&id={{.Id}}">删除</a>
                    </td>
                </tr>
                {{end}}
                </tbody>
            </table>
        </div>

        <script type="text/javascript">
            function checkInput(){
                var uname = document.getElementById("uname");
                if (uname.value.length === 0){
                    alert("请输入分类名称");
                    return false;
                }
                return true;
            }
        </script>
        <script type="text/javascript" src="https://cdn.staticfile.org/jquery/3.6.0/jquery.min.js"></script>
        <script type="text/javascript" src="/static/js/bootstrap.min.js"></script>

    </body>
</html>